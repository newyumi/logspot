---
title: 이벤트 루프, 마이크로 태스크 큐
date: 2
version: "JS"
---

`이벤트 루프`는 자바스크립트의 실행 메커니즘 중 하나로, 비동기 작업을 처리하는 핵심 엔진. 자바스크립트는 단일 스레드 언어로, 한 번에 하나의 작업만 처리할 수 있다. 이런 구조 때문에 비동기 작업이 중요해지며, 이를 관리하기 위해 이벤트 루프가 사용됨.

기본적인 동작 원리

- 콜 스택(Call Stack): 코드 실행이 시작되면 스택에 함수 호출이 쌓인다.
- 웹 API: 비동기 함수(예: setTimeout, fetch 등)는 웹 API로 이동하여 백그라운드에서 실행
- 콜백 큐(Callback Queue): 비동기 작업이 완료되면 콜백 함수가 큐에 추가
- 이벤트 루프(Event Loop): 콜 스택이 비어 있을 때, 콜백 큐의 함수가 콜 스택으로 이동하여 실행

이 과정을 통해 자바스크립트는 비동기 작업을 비블록킹(non-blocking) 방식으로 처리하며, 단일 스레드로도 효율적으로 여러 작업을 동시에 다룰 수 있다.

<br/>

`마이크로 태스크 큐(microtask queue)`

JavaScript의 이벤트 루프(event loop) 내에서 동작하는 큐(queue) 중 하나임. 마이크로 태스크 큐는 주로 Promise와 async/await의 await 키워드를 사용할 때 생성되는 작업들을 관리한다.

async 함수를 제너레이터 함수로 변경하여 함수의 실행을 중간에 멈추거나 이어서 작업. 이때 뒤의 작업은 마이크로 태스크큐에 들어가고 콜스택이 비워진 다음에 실행됨
